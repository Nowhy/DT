import java.util.*;

public class MCTSAI {
	Game game;
	Board board;
	Board tempBoard;
	int tempI = -1;
	int tempJ = -1;
	
	int tempM = -1;
	int tempN = -1;
	
	MCTSAI(Game game){
		this.game = game;
	}
	
	void play(){
		board = game.getBoard();
		int score = board.getScore();
		int tempScore = score;
		tempBoard = new Board(board);
		tempI = -1;
		tempJ = -1;
		tempM = -1;
		tempN = -1;
	}
	
	public void makeTransition(int i, int j, int m, int n, Board oldboard) {
        tempBoard = new Board(oldboard);
        tempBoard.setFirstCandy(i, j);
        tempBoard.setSelectedFirst();
        tempBoard.move(m, n);
    }
	
	public Board simulationTransition(Set<Board> possibleTransitions) {
		List<Board> transitions = new ArrayList<Board>(possibleTransitions);
		return transitions.get((int) Math.floor(Math.random() * possibleTransitions.size()));
	}
	
	public Set<TicTacToeTransition> getPossibleTransitions() {
    	Set<TicTacToeTransition> moves = new HashSet<TicTacToeTransition>();
        for (int i = 0; i < GRID_SIZE; i++) {
            for (int j = 0; j < GRID_SIZE; j++) {
                if (grid[i][j] == FREE) {
                    moves.add(new TicTacToeTransition(i, j, currentPlayer));
                }
            }
        }
        // moves can be sorted to optimize alpha-beta pruning
        // {1,1} is always the best move when available
        return moves;
    }

}
